{
  "description": "ملف توضيحي لمتغيرات البيئة المطلوبة على Render",
  "note": "لا ترفع هذا الملف مع القيم الحقيقية على GitHub",
  
  "environment_variables": {
    "BOT_TOKEN": {
      "required": true,
      "description": "توكن البوت من BotFather",
      "how_to_get": [
        "1. افتح @BotFather في تيليجرام",
        "2. أرسل /newbot",
        "3. اتبع التعليمات",
        "4. انسخ التوكن"
      ],
      "example": "123456789:ABCdefGHIjklMNOpqrsTUVwxyz",
      "where_to_add": "Render Dashboard → Environment → Add Environment Variable"
    },
    
    "FIREBASE_CREDENTIALS": {
      "required": true,
      "description": "بيانات Firebase Service Account كاملة",
      "how_to_get": [
        "1. اذهب إلى Firebase Console",
        "2. اختر مشروعك",
        "3. Settings → Service Accounts",
        "4. Generate New Private Key",
        "5. انسخ محتوى الملف JSON كاملاً"
      ],
      "format": "JSON في سطر واحد",
      "example": "{\"type\":\"service_account\",\"project_id\":\"xxx\",\"private_key\":\"-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----\\n\"}",
      "important": "انسخ الملف كاملاً بدون مسافات أو أسطر جديدة بين العناصر"
    },
    
    "SITE_URL": {
      "required": true,
      "description": "رابط التطبيق على Render",
      "how_to_get": [
        "1. بعد إنشاء Web Service على Render",
        "2. انسخ الرابط من Dashboard",
        "3. الصيغة: https://your-app-name.onrender.com"
      ],
      "example": "https://my-telegram-bot.onrender.com",
      "note": "أضف هذا المتغير بعد إنشاء التطبيق"
    },
    
    "SECRET_KEY": {
      "required": true,
      "description": "مفتاح سري لتشفير الجلسات",
      "how_to_get": [
        "أنشئه باستخدام Python:",
        "python3 -c \"import secrets; print(secrets.token_urlsafe(32))\""
      ],
      "example": "dK9mP3vR8xT2qW5nL7jH4gF6sA1zX0cV9bM8yU3iO2e",
      "length": "32 حرف على الأقل",
      "important": "لا تشارك هذا المفتاح مع أحد"
    },
    
    "PORT": {
      "required": false,
      "description": "منفذ التشغيل (يتم تعيينه تلقائياً بواسطة Render)",
      "default": "10000",
      "note": "لا تحتاج لإضافة هذا المتغير، Render يضبطه تلقائياً"
    }
  },
  
  "deployment_steps": {
    "1_prepare": {
      "title": "الإعداد",
      "tasks": [
        "حدّث ADMIN_ID في app.py",
        "أضف مشرفين في ADMINS_LIST",
        "تأكد من وجود جميع الملفات"
      ]
    },
    
    "2_github": {
      "title": "رفع على GitHub",
      "commands": [
        "git init",
        "git add .",
        "git commit -m 'Ready for deployment'",
        "git branch -M main",
        "git remote add origin YOUR_REPO_URL",
        "git push -u origin main"
      ]
    },
    
    "3_render": {
      "title": "النشر على Render",
      "steps": [
        "اذهب إلى https://dashboard.render.com",
        "اضغط New + → Web Service",
        "اربط GitHub واختر المستودع",
        "Render سيكتشف render.yaml تلقائياً",
        "أضف متغيرات البيئة (انظر أعلاه)",
        "اضغط Create Web Service",
        "انتظر 2-5 دقائق للبناء"
      ]
    },
    
    "4_test": {
      "title": "الاختبار",
      "tasks": [
        "ابحث عن البوت في تيليجرام",
        "أرسل /start",
        "جرّب الأوامر المختلفة",
        "تحقق من Logs في Render"
      ]
    }
  },
  
  "troubleshooting": {
    "bot_not_responding": {
      "problem": "البوت لا يستجيب",
      "solutions": [
        "تحقق من Logs في Render Dashboard",
        "تأكد من صحة BOT_TOKEN",
        "تحقق من أن السيرفر حالته Live",
        "تأكد من عدم وجود أخطاء في الكود"
      ]
    },
    
    "firebase_error": {
      "problem": "خطأ في Firebase",
      "solutions": [
        "تأكد من أن FIREBASE_CREDENTIALS نسخة JSON صحيحة",
        "احذف المسافات والأسطر الجديدة غير الضرورية",
        "تحقق من صلاحيات Service Account",
        "تأكد من تفعيل Firestore في Firebase Console"
      ]
    },
    
    "build_failed": {
      "problem": "فشل البناء",
      "solutions": [
        "تحقق من requirements.txt",
        "تأكد من runtime.txt يحتوي على python-3.11.0",
        "راجع Logs للأخطاء التفصيلية",
        "تأكد من عدم وجود أخطاء في app.py"
      ]
    },
    
    "app_sleeping": {
      "problem": "التطبيق ينام",
      "solutions": [
        "هذا طبيعي في الخطة المجانية (ينام بعد 15 دقيقة)",
        "استخدم UptimeRobot لإرسال ping كل 5 دقائق",
        "أو قم بالترقية لخطة مدفوعة"
      ]
    }
  },
  
  "useful_links": {
    "render": "https://render.com/docs",
    "telegram_bot_api": "https://core.telegram.org/bots/api",
    "botfather": "https://t.me/BotFather",
    "firebase_console": "https://console.firebase.google.com",
    "uptimerobot": "https://uptimerobot.com",
    "github": "https://github.com"
  },
  
  "support_files": {
    "quickstart": "QUICKSTART.md - ابدأ من هنا",
    "detailed_guide": "DEPLOY.md - دليل مفصل",
    "render_specific": "README_RENDER.md - خاص بـ Render",
    "setup_script": "setup.sh - للتشغيل المحلي",
    "arabic_guide": "تعليمات.txt - ملخص بالعربية"
  }
}
